flowchart TD
    A([User Request])
    B[LLM Processing]
    C{Tool Calls Needed?}
    D[Parallel Tool Execution]
    E[Process Tool Results]
    F{Follow-up Needed?}
    G[Generate Response]
    H([Return Response to User])

    A --> B
    B --> C
    C -->|Yes| D
    C -->|No| G
    D --> E
    E --> F
    F -->|Yes| B
    F -->|No| G
    G --> H

    classDef default fill:#f9f9f9,stroke:#333,stroke-width:2px;
    classDef process fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
    classDef decision fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;
    classDef io fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;

    class A,H io;
    class B,D,E,G process;
    class C,F decision;
